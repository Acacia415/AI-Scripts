# Hexo Butterfly ä¸»é¢˜åšå®¢ä½¿ç”¨æ‰‹å†Œ

> ğŸ’• çŒ®ç»™é¢œé¢œå®è´çš„æˆé•¿è®°å½•ç½‘ç«™ - å®Œå…¨æ–°æ‰‹ä½¿ç”¨æŒ‡å—

## ğŸ“– ç›®å½•

- [ä¸€ã€å¿«é€Ÿå¼€å§‹](#ä¸€å¿«é€Ÿå¼€å§‹)
- [äºŒã€æ–‡ä»¶ç›®å½•ç»“æ„](#äºŒæ–‡ä»¶ç›®å½•ç»“æ„)
- [ä¸‰ã€åˆ›å»ºå’Œç®¡ç†æ–‡ç« ](#ä¸‰åˆ›å»ºå’Œç®¡ç†æ–‡ç« )
- [å››ã€ä¸Šä¼ å’Œç®¡ç†èµ„æº](#å››ä¸Šä¼ å’Œç®¡ç†èµ„æº)
- [äº”ã€æ—¶å…‰è½´ä½¿ç”¨æŒ‡å—](#äº”æ—¶å…‰è½´ä½¿ç”¨æŒ‡å—)
- [å…­ã€ç›¸å†ŒåŠŸèƒ½ä½¿ç”¨](#å…­ç›¸å†ŒåŠŸèƒ½ä½¿ç”¨)
- [ä¸ƒã€éŸ³ä¹æ’­æ”¾å™¨é…ç½®](#ä¸ƒéŸ³ä¹æ’­æ”¾å™¨é…ç½®)
- [å…«ã€è§†é¢‘æ’­æ”¾å™¨ä½¿ç”¨](#å…«è§†é¢‘æ’­æ”¾å™¨ä½¿ç”¨)
- [ä¹ã€å¸¸è§é—®é¢˜è§£ç­”](#ä¹å¸¸è§é—®é¢˜è§£ç­”)
- [åã€å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥](#åå¸¸ç”¨å‘½ä»¤é€ŸæŸ¥)

---

## ä¸€ã€å¿«é€Ÿå¼€å§‹

### 1.1 è®¿é—®æœåŠ¡å™¨

ä½¿ç”¨ SSH å·¥å…·ï¼ˆå¦‚ PuTTYã€Xshellï¼‰ç™»å½•åˆ°ä½ çš„ VPSï¼š

```bash
ssh root@ä½ çš„æœåŠ¡å™¨IP
```

### 1.2 è¿›å…¥åšå®¢ç›®å½•

```bash
cd /var/www/hexo-blog
```

### 1.3 åŸºæœ¬æ“ä½œæµç¨‹

```
ç¼–è¾‘å†…å®¹ â†’ é‡æ–°ç”Ÿæˆ â†’ æŸ¥çœ‹æ•ˆæœ
```

**æ ‡å‡†å·¥ä½œæµç¨‹**ï¼š
1. ç¼–è¾‘æ–‡ç« æˆ–é…ç½®æ–‡ä»¶
2. ä¸Šä¼ å›¾ç‰‡/è§†é¢‘ï¼ˆå¦‚æœéœ€è¦ï¼‰
3. è¿è¡Œç”Ÿæˆå‘½ä»¤ï¼š`npx hexo clean && npx hexo generate`
4. åˆ·æ–°æµè§ˆå™¨æŸ¥çœ‹æ•ˆæœ

---

## äºŒã€æ–‡ä»¶ç›®å½•ç»“æ„

### 2.1 å®Œæ•´ç›®å½•æ ‘

```
/var/www/hexo-blog/
â”œâ”€â”€ source/                      # æºæ–‡ä»¶ç›®å½•ï¼ˆä½ ä¸»è¦å·¥ä½œçš„åœ°æ–¹ï¼‰
â”‚   â”œâ”€â”€ _posts/                  # ğŸ“ æ–‡ç« ç›®å½•
â”‚   â”‚   â”œâ”€â”€ welcome.md           # ç¤ºä¾‹æ–‡ç« 
â”‚   â”‚   â””â”€â”€ my-story.md          # ä½ çš„æ–‡ç« 
â”‚   â”‚
â”‚   â”œâ”€â”€ img/                     # ğŸ–¼ï¸ å›¾ç‰‡èµ„æºç›®å½•
â”‚   â”‚   â”œâ”€â”€ avatar.jpg           # å¤´åƒ
â”‚   â”‚   â”œâ”€â”€ 2024-01.jpg          # æ—¶å…‰è½´å›¾ç‰‡
â”‚   â”‚   â””â”€â”€ photo1.jpg           # å…¶ä»–å›¾ç‰‡
â”‚   â”‚
â”‚   â”œâ”€â”€ videos/                  # ğŸ¬ è§†é¢‘èµ„æºç›®å½•
â”‚   â”‚   â””â”€â”€ baby-video.mp4       # è§†é¢‘æ–‡ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ music/                   # ğŸµ éŸ³ä¹èµ„æºç›®å½•
â”‚   â”‚   â”œâ”€â”€ song1.mp3            # éŸ³ä¹æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ song2.mp3
â”‚   â”‚
â”‚   â”œâ”€â”€ timeline-simple/         # â° æ—¶å…‰è½´é¡µé¢
â”‚   â”‚   â””â”€â”€ index.md
â”‚   â”‚
â”‚   â”œâ”€â”€ gallery/                 # ğŸ“¸ ç›¸å†Œé¡µé¢
â”‚   â”‚   â””â”€â”€ index.md
â”‚   â”‚
â”‚   â”œâ”€â”€ about/                   # ğŸ’– å…³äºé¡µé¢
â”‚   â”‚   â””â”€â”€ index.md
â”‚   â”‚
â”‚   â”œâ”€â”€ categories/              # ğŸ“ åˆ†ç±»é¡µé¢
â”‚   â”‚   â””â”€â”€ index.md
â”‚   â”‚
â”‚   â””â”€â”€ tags/                    # ğŸ·ï¸ æ ‡ç­¾é¡µé¢
â”‚       â””â”€â”€ index.md
â”‚
â”œâ”€â”€ _config.yml                  # Hexo ä¸»é…ç½®æ–‡ä»¶
â”œâ”€â”€ _config.butterfly.yml        # Butterfly ä¸»é¢˜é…ç½®æ–‡ä»¶
â””â”€â”€ public/                      # ç”Ÿæˆçš„é™æ€æ–‡ä»¶ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
```

### 2.2 é‡è¦ç›®å½•è¯´æ˜

| ç›®å½• | ç”¨é€” | æ˜¯å¦æ‰‹åŠ¨ç¼–è¾‘ |
|------|------|-------------|
| `source/_posts/` | å­˜æ”¾æ–‡ç«  | âœ… æ˜¯ |
| `source/img/` | å­˜æ”¾å›¾ç‰‡ | âœ… æ˜¯ |
| `source/videos/` | å­˜æ”¾è§†é¢‘ | âœ… æ˜¯ |
| `source/music/` | å­˜æ”¾éŸ³ä¹ | âœ… æ˜¯ |
| `public/` | ç”Ÿæˆçš„ç½‘ç«™æ–‡ä»¶ | âŒ å¦ |

---

## ä¸‰ã€åˆ›å»ºå’Œç®¡ç†æ–‡ç« 

### 3.1 åˆ›å»ºæ–°æ–‡ç« 

```bash
cd /var/www/hexo-blog
npx hexo new "æ–‡ç« æ ‡é¢˜"
```

### 3.2 æ–‡ç« æ ¼å¼

```markdown
---
title: å®è´çš„ç¬¬ä¸€æ¬¡å¾®ç¬‘
date: 2024-01-15 10:30:00
categories: 
  - æˆé•¿è®°å½•
tags:
  - å¾®ç¬‘
  - 2024å¹´1æœˆ
cover: /img/cover1.jpg
---

## ç¬¬ä¸€æ¬¡å¾®ç¬‘

ä»Šå¤©å®è´ç¬¬ä¸€æ¬¡ç¬‘äº†ï¼

![å®è´çš„ç¬‘å®¹](/img/2024-01.jpg)
```

### 3.3 å¸¸ç”¨ Markdown è¯­æ³•

```markdown
# ä¸€çº§æ ‡é¢˜
## äºŒçº§æ ‡é¢˜

**ç²—ä½“** *æ–œä½“*

[é“¾æ¥](https://example.com)

![å›¾ç‰‡](/img/photo.jpg)

- åˆ—è¡¨é¡¹

> å¼•ç”¨æ–‡å­—
```

---

## å››ã€ä¸Šä¼ å’Œç®¡ç†èµ„æº

### 4.1 ä¸Šä¼ æ–‡ä»¶

**æ–¹æ³•ä¸€ï¼šSCP å‘½ä»¤**

```bash
scp /æœ¬åœ°è·¯å¾„/photo.jpg root@æœåŠ¡å™¨IP:/var/www/hexo-blog/source/img/
```

**æ–¹æ³•äºŒï¼šFTP å·¥å…·**

ä½¿ç”¨ FileZilla è¿æ¥æœåŠ¡å™¨ï¼Œæ‹–æ‹½ä¸Šä¼ åˆ°å¯¹åº”ç›®å½•

### 4.2 æ–‡ä»¶å­˜æ”¾ä½ç½®

| èµ„æºç±»å‹ | ä¸Šä¼ åˆ° | å¼•ç”¨è·¯å¾„ |
|---------|--------|---------|
| å›¾ç‰‡ | `source/img/` | `/img/æ–‡ä»¶å.jpg` |
| è§†é¢‘ | `source/videos/` | `/videos/æ–‡ä»¶å.mp4` |
| éŸ³ä¹ | `source/music/` | `/music/æ–‡ä»¶å.mp3` |

### 4.3 å‘½åå»ºè®®

```
2024-01-smile.jpg    # æ—¥æœŸ-æè¿°
avatar.jpg           # åŠŸèƒ½å‘½å
cover1.jpg           # ç¼–å·å‘½å
```

---

## äº”ã€æ—¶å…‰è½´ä½¿ç”¨æŒ‡å—

### 5.1 ç¼–è¾‘æ—¶å…‰è½´

```bash
nano /var/www/hexo-blog/source/timeline-simple/index.md
```

### 5.2 æ—¶å…‰è½´æ ¼å¼

```markdown
{% timeline 2024å¹´,pink %}

<!-- node 2024å¹´1æœˆ - ç¬¬ä¸€æ¬¡ç¬‘ -->
![ç¬¬ä¸€æ¬¡ç¬‘](/img/2024-01.jpg)

å®è´ä»Šå¤©ç¬¬ä¸€æ¬¡ç¬‘äº†ï¼ğŸ’•

<!-- node 2024å¹´2æœˆ - ä¼šç¿»èº« -->
![ä¼šç¿»èº«](/img/2024-02.jpg)

å®è´ä¼šç¿»èº«äº†ï¼ğŸŒŸ

{% endtimeline %}
```

---

## å…­ã€ç›¸å†ŒåŠŸèƒ½ä½¿ç”¨

### 6.1 ç¼–è¾‘ç›¸å†Œ

```bash
nano /var/www/hexo-blog/source/gallery/index.md
```

### 6.2 ç›¸å†Œæ ¼å¼

```markdown
<div class="gallery-group">

## 2024å¹´1æœˆ

![](/img/2024-01-01.jpg)
![](/img/2024-01-02.jpg)
![](/img/2024-01-03.jpg)

</div>
```

---

## ä¸ƒã€éŸ³ä¹æ’­æ”¾å™¨é…ç½®

### 7.1 ä¿®æ”¹æ­Œå•

ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š

```bash
nano /var/www/hexo-blog/_config.butterfly.yml
```

æ‰¾åˆ°ç¬¬ 453 è¡Œï¼Œä¿®æ”¹æ­Œå• ID

### 7.2 è·å– QQ éŸ³ä¹æ­Œå• ID

1. æ‰“å¼€ QQ éŸ³ä¹ç½‘é¡µç‰ˆ
2. åˆ›å»ºæˆ–æ‰“å¼€æ­Œå•
3. ä»åœ°å€æ å¤åˆ¶ IDï¼š`https://y.qq.com/n/ryqq/playlist/1878671155`

---

## å…«ã€è§†é¢‘æ’­æ”¾å™¨ä½¿ç”¨

### 8.1 åœ¨æ–‡ç« ä¸­åµŒå…¥è§†é¢‘

```markdown
{% dplayer "url=/videos/baby-video.mp4" "pic=/img/cover.jpg" %}
```

---

## ä¹ã€å¸¸è§é—®é¢˜è§£ç­”

**Q: ä¿®æ”¹åç½‘ç«™æ²¡æ›´æ–°ï¼Ÿ**

A: éœ€è¦é‡æ–°ç”Ÿæˆï¼š
```bash
npx hexo clean && npx hexo generate
```

**Q: å›¾ç‰‡æ— æ³•æ˜¾ç¤ºï¼Ÿ**

A: æ£€æŸ¥ï¼š
1. å›¾ç‰‡æ˜¯å¦ä¸Šä¼ åˆ° `source/img/`
2. è·¯å¾„æ˜¯å¦ä»¥ `/img/` å¼€å¤´
3. æ˜¯å¦é‡æ–°ç”Ÿæˆäº†

---

## åã€å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

```bash
# åˆ›å»ºæ–‡ç« 
npx hexo new "æ ‡é¢˜"

# æ¸…ç†å¹¶ç”Ÿæˆ
npx hexo clean && npx hexo generate

# æœ¬åœ°é¢„è§ˆ
npx hexo server

# æŸ¥çœ‹æ–‡ä»¶
ls -lh source/img/

# ç¼–è¾‘æ–‡ä»¶
nano source/_posts/æ–‡ç« å.md
```

---

## å¿«é€Ÿå‚è€ƒ

### åŸºæœ¬æµç¨‹

```
ä¸Šä¼ èµ„æº â†’ ç¼–è¾‘å†…å®¹ â†’ é‡æ–°ç”Ÿæˆ â†’ æŸ¥çœ‹æ•ˆæœ
```

### è¯­æ³•é€ŸæŸ¥

```markdown
![å›¾ç‰‡](/img/photo.jpg)
{% dplayer "url=/videos/video.mp4" %}
{% aplayer "æ­Œå" "æ­Œæ‰‹" "/music/song.mp3" %}
```

---

ğŸ’ **é‡è¦æç¤º**ï¼šæ¯æ¬¡ä¿®æ”¹åéƒ½è¦è¿è¡Œ `npx hexo clean && npx hexo generate`

ğŸ“ **è·å–å¸®åŠ©**ï¼š
- Hexo æ–‡æ¡£: https://hexo.io/zh-cn/docs/
- Butterfly æ–‡æ¡£: https://butterfly.js.org/
