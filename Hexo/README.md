# Hexo åšå®¢ä¸€é”®ç®¡ç†è„šæœ¬

> ğŸš€ ä¸º Debian 12 (ARM) ä¼˜åŒ–çš„ Hexo åšå®¢å®Œæ•´è§£å†³æ–¹æ¡ˆ  
> æ”¯æŒï¼šéƒ¨ç½² | å¸è½½ | å¤‡ä»½ | GitåŒæ­¥ | Caddyåä»£

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Hexo](https://img.shields.io/badge/Hexo-6.x-0E83CD.svg)](https://hexo.io)
[![Node](https://img.shields.io/badge/Node.js-20.x-339933.svg)](https://nodejs.org)
[![Debian](https://img.shields.io/badge/Debian-12-A81D33.svg)](https://www.debian.org)

---

## ğŸ“‹ ç›®å½•

- [åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [è¯¦ç»†åŠŸèƒ½](#-è¯¦ç»†åŠŸèƒ½)
- [Caddy é…ç½®](#-caddy-é…ç½®)
- [å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)
- [æœ€ä½³å®è·µ](#-æœ€ä½³å®è·µ)
- [æ•…éšœæ’æŸ¥](#-æ•…éšœæ’æŸ¥)

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | è¯´æ˜ | ç‰¹æ€§ |
|-----|------|-----|
| **ğŸš€ ä¸€é”®éƒ¨ç½²** | è‡ªåŠ¨å®‰è£… Node.js 20ã€Hexo åŠä¾èµ– | æ™ºèƒ½æ£€æµ‹ã€è‡ªåŠ¨å‡çº§ |
| **ğŸ—‘ï¸ å®‰å…¨å¸è½½** | å®Œå…¨å¸è½½æˆ–ä»…åˆ é™¤ç¨‹åºæ–‡ä»¶ | å¸è½½å‰è‡ªåŠ¨å¤‡ä»½ |
| **ğŸ’¾ æ™ºèƒ½å¤‡ä»½** | å¤‡ä»½æºæ–‡ä»¶ã€ä¸»é¢˜ã€é…ç½® | è‡ªåŠ¨å‹ç¼©ã€ä¿ç•™æœ€è¿‘5ä¸ª |
| **ğŸ”„ Git åŒæ­¥** | Pushã€Pullã€Cloneã€Init | å®Œæ•´çš„ Git å·¥ä½œæµ |
| **ğŸ”¥ åå°æœåŠ¡** | systemdã€PM2ã€nohup ä¸‰ç§æ–¹æ¡ˆ | å¼€æœºè‡ªå¯ã€è¿›ç¨‹å®ˆæŠ¤ |
| **âš™ï¸ æœåŠ¡ç®¡ç†** | å¯åŠ¨/åœæ­¢/é‡å¯/æŸ¥çœ‹æ—¥å¿— | å®Œæ•´çš„æœåŠ¡ç®¡ç† |
| **ğŸ“Š çŠ¶æ€ç›‘æ§** | æŸ¥çœ‹åšå®¢çŠ¶æ€ã€æ–‡ç« ç»Ÿè®¡ | ç¯å¢ƒæ£€æµ‹ã€ç‰ˆæœ¬ä¿¡æ¯ |

### ğŸ¨ ç•Œé¢ç‰¹æ€§

- âœ… å½©è‰²è¾“å‡ºï¼Œæ¸…æ™°æ˜“è¯»
- âœ… äº¤äº’å¼èœå•ï¼Œæ“ä½œç®€ä¾¿
- âœ… æ™ºèƒ½æç¤ºï¼Œé˜²æ­¢è¯¯æ“ä½œ
- âœ… è¿›åº¦åé¦ˆï¼Œå®æ—¶æ˜¾ç¤º

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šç›´æ¥ä¸‹è½½è¿è¡Œ

```bash
# ä¸‹è½½è„šæœ¬
curl -fsSL https://raw.githubusercontent.com/YOUR_USERNAME/YOUR_REPO/main/hexo_manager.sh -o hexo_manager.sh

# æ·»åŠ æ‰§è¡Œæƒé™
chmod +x hexo_manager.sh

# è¿è¡Œ
./hexo_manager.sh
```

### æ–¹å¼äºŒï¼šå…‹éš†ä»“åº“

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/YOUR_USERNAME/YOUR_REPO.git
cd YOUR_REPO

# è¿è¡Œ
chmod +x hexo_manager.sh
./hexo_manager.sh
```

### æ–¹å¼ä¸‰ï¼šä¸€é”®æ‰§è¡Œï¼ˆä¸ä¿å­˜ï¼‰

```bash
curl -fsSL https://raw.githubusercontent.com/YOUR_USERNAME/YOUR_REPO/main/hexo_manager.sh | bash
```

---

## ğŸ“– è¯¦ç»†åŠŸèƒ½

### 1ï¸âƒ£ éƒ¨ç½² Hexo åšå®¢

**åŠŸèƒ½è¯´æ˜ï¼š**
- è‡ªåŠ¨æ£€æµ‹å¹¶å®‰è£…/å‡çº§ Node.js åˆ° v20
- å®‰è£…å¿…è¦çš„ç³»ç»Ÿä¾èµ–ï¼ˆgitã€curlã€build-essentialï¼‰
- åˆå§‹åŒ– Hexo é¡¹ç›®åˆ° `/var/www/hexo-blog`
- å®‰è£…å¸¸ç”¨æ’ä»¶ï¼ˆhexo-serverã€hexo-deployer-gitï¼‰
- ç”Ÿæˆé™æ€æ–‡ä»¶å¹¶æä¾›æµ‹è¯•é€‰é¡¹

**æ“ä½œæµç¨‹ï¼š**
```
ä¸»èœå• â†’ é€‰æ‹© 1 â†’ è‡ªåŠ¨æ£€æµ‹ç¯å¢ƒ â†’ å®‰è£…ä¾èµ– â†’ åˆå§‹åŒ–é¡¹ç›® â†’ å®Œæˆ
```

**é¦–æ¬¡éƒ¨ç½²é¢„è®¡è€—æ—¶ï¼š** 3-5 åˆ†é’Ÿï¼ˆå–å†³äºç½‘ç»œé€Ÿåº¦ï¼‰

---

### 2ï¸âƒ£ å¸è½½ Hexo åšå®¢

**ä¸¤ç§å¸è½½æ¨¡å¼ï¼š**

#### æ¨¡å¼ 1ï¼šå®Œå…¨å¸è½½
- åˆ é™¤æ‰€æœ‰åšå®¢æ–‡ä»¶ï¼ˆåŒ…æ‹¬æºæ–‡ä»¶ï¼‰
- å¸è½½å‰è‡ªåŠ¨æç¤ºå¤‡ä»½
- éœ€è¦è¾“å…¥ `YES` ç¡®è®¤

#### æ¨¡å¼ 2ï¼šä»…å¸è½½ç¨‹åº
- åˆ é™¤ node_modulesã€ä¾èµ–ç¼“å­˜
- **ä¿ç•™æºæ–‡ä»¶ã€é…ç½®ã€æ–‡ç« **
- è‡ªåŠ¨åˆ›å»ºå¤‡ä»½

**é™„åŠ é€‰é¡¹ï¼š**
- å¯é€‰æ‹©æ˜¯å¦åŒæ—¶å¸è½½ Node.js

---

### 3ï¸âƒ£ å¤‡ä»½åšå®¢æ•°æ®

**å¤‡ä»½å†…å®¹ï¼š**
```
âœ… source/           # æ–‡ç« å’Œé¡µé¢æºæ–‡ä»¶
âœ… themes/           # ä¸»é¢˜æ–‡ä»¶
âœ… _config.yml       # å…¨å±€é…ç½®
âœ… _config.*.yml     # ä¸»é¢˜é…ç½®æ–‡ä»¶
âœ… package.json      # ä¾èµ–é…ç½®
âœ… scripts/          # è‡ªå®šä¹‰è„šæœ¬
âœ… *.sh              # ç®¡ç†è„šæœ¬
âœ… db.json           # æ•°æ®åº“æ–‡ä»¶
```

**å¤‡ä»½ç‰¹æ€§ï¼š**
- è‡ªåŠ¨å‹ç¼©ä¸º `.tar.gz` æ ¼å¼
- æ—¶é—´æˆ³å‘½åï¼š`hexo_backup_20231101_153045.tar.gz`
- ä¿ç•™æœ€è¿‘ 5 ä¸ªå¤‡ä»½ï¼Œè‡ªåŠ¨æ¸…ç†æ—§å¤‡ä»½
- å¤‡ä»½ä½ç½®ï¼š`/var/backups/hexo-blog/`

---

### 4ï¸âƒ£ æ¢å¤å¤‡ä»½æ•°æ®

**æ¢å¤æ¨¡å¼ï¼š**

#### æ¨¡å¼ 1ï¼šå®Œå…¨æ¢å¤
- æ¸…ç©ºç›®æ ‡ç›®å½•åæ¢å¤
- æ¢å¤å‰å¯é€‰å¤‡ä»½ç°æœ‰æ•°æ®
- éœ€è¦è¾“å…¥ `YES` ç¡®è®¤

#### æ¨¡å¼ 2ï¼šåˆå¹¶æ¢å¤
- ä¿ç•™ç°æœ‰æ–‡ä»¶
- åªè¦†ç›–åŒåæ–‡ä»¶
- é€‚ç”¨äºéƒ¨åˆ†æ¢å¤

#### æ¨¡å¼ 3ï¼šé¢„è§ˆå¤‡ä»½
- ä»…è§£å‹æŸ¥çœ‹
- ä¸å®é™…æ¢å¤
- ç”¨äºç¡®è®¤å¤‡ä»½å†…å®¹

**æ¢å¤ç‰¹æ€§ï¼š**
- âœ… æ™ºèƒ½æ£€æµ‹ Node.jsï¼Œæœªå®‰è£…è‡ªåŠ¨å®‰è£…
- âœ… è‡ªåŠ¨æ¢å¤ Web æœåŠ¡å™¨é…ç½®
- âœ… è‡ªåŠ¨é‡å¯ Caddy/Nginx æœåŠ¡
- âœ… è‡ªåŠ¨å®‰è£…ä¾èµ–å¹¶ç”Ÿæˆé™æ€æ–‡ä»¶

**æ“ä½œæµç¨‹ï¼š**
```bash
ä¸»èœå• â†’ 4 â†’ é€‰æ‹©å¤‡ä»½ â†’ é€‰æ‹©æ¨¡å¼ â†’ ç¡®è®¤ â†’ è‡ªåŠ¨æ¢å¤
```

---

### 5ï¸âƒ£ Git åŒæ­¥

#### ğŸ”¸ æ¨é€åˆ°è¿œç¨‹ä»“åº“ (Push)
```bash
ä¸»èœå• â†’ 4 â†’ 1
# 1. æŸ¥çœ‹å½“å‰çŠ¶æ€
# 2. è¾“å…¥æäº¤ä¿¡æ¯
# 3. è‡ªåŠ¨ addã€commitã€push
```

#### ğŸ”¸ ä»è¿œç¨‹æ‹‰å– (Pull)
```bash
ä¸»èœå• â†’ 4 â†’ 2
# 1. è‡ªåŠ¨æš‚å­˜æœ¬åœ°æ›´æ”¹
# 2. æ‹‰å–è¿œç¨‹æ›´æ–°
# 3. æ¢å¤æš‚å­˜å†…å®¹
# 4. é‡æ–°ç”Ÿæˆé™æ€æ–‡ä»¶
```

#### ğŸ”¸ å…‹éš†è¿œç¨‹ä»“åº“
```bash
ä¸»èœå• â†’ 4 â†’ 3
# 1. è¾“å…¥ä»“åº“åœ°å€
# 2. è‡ªåŠ¨å…‹éš†åˆ° /var/www/hexo-blog
# 3. å®‰è£…ä¾èµ–å¹¶ç”Ÿæˆé™æ€æ–‡ä»¶
```

#### ğŸ”¸ åˆå§‹åŒ– Git ä»“åº“
```bash
ä¸»èœå• â†’ 4 â†’ 4
# 1. åˆå§‹åŒ–æœ¬åœ°ä»“åº“
# 2. åˆ›å»º .gitignore
# 3. åˆå§‹æäº¤
# 4. å¯é€‰æ·»åŠ è¿œç¨‹ä»“åº“å¹¶æ¨é€
```

---

### 6ï¸âƒ£ åå°æœåŠ¡ç®¡ç† â­

**é‡è¦ï¼šç”Ÿäº§ç¯å¢ƒå¿…é¡»ä½¿ç”¨åå°æœåŠ¡ï¼Œå¦åˆ™å…³é—­ç»ˆç«¯åç½‘ç«™å°±æ— æ³•è®¿é—®ï¼**

æä¾› **3 ç§åå°è¿è¡Œæ–¹æ¡ˆ**ï¼š

---

#### ğŸ”¹ æ–¹æ¡ˆä¸€ï¼šsystemd æœåŠ¡ï¼ˆæ¨èç”Ÿäº§ç¯å¢ƒï¼‰

**ä¼˜ç‚¹ï¼š**
- âœ… ç³»ç»Ÿçº§æœåŠ¡ï¼Œç¨³å®šå¯é 
- âœ… å¼€æœºè‡ªåŠ¨å¯åŠ¨
- âœ… è‡ªåŠ¨å´©æºƒé‡å¯
- âœ… systemd ç»Ÿä¸€ç®¡ç†ï¼Œæ—¥å¿—é›†æˆ

**æ“ä½œæµç¨‹ï¼š**
```bash
ä¸»èœå• â†’ 5 â†’ 1 â†’ 1 (åˆ›å»ºå¹¶å¯åŠ¨æœåŠ¡)
```

**å¸¸ç”¨å‘½ä»¤ï¼š**
```bash
# å¯åŠ¨æœåŠ¡
sudo systemctl start hexo-blog

# åœæ­¢æœåŠ¡
sudo systemctl stop hexo-blog

# é‡å¯æœåŠ¡
sudo systemctl restart hexo-blog

# æŸ¥çœ‹çŠ¶æ€
sudo systemctl status hexo-blog

# æŸ¥çœ‹æ—¥å¿—
sudo journalctl -u hexo-blog -f

# å¼€æœºè‡ªå¯
sudo systemctl enable hexo-blog
```

---

#### ğŸ”¹ æ–¹æ¡ˆäºŒï¼šPM2 è¿›ç¨‹ç®¡ç†ï¼ˆæ¨è Node.js åº”ç”¨ï¼‰

**ä¼˜ç‚¹ï¼š**
- âœ… ä¸“ä¸º Node.js è®¾è®¡ï¼ŒåŠŸèƒ½å¼ºå¤§
- âœ… å®æ—¶ç›‘æ§é¢æ¿
- âœ… è‡ªåŠ¨é‡å¯ã€è´Ÿè½½å‡è¡¡
- âœ… è¯¦ç»†çš„æ—¥å¿—ç®¡ç†

**æ“ä½œæµç¨‹ï¼š**
```bash
ä¸»èœå• â†’ 5 â†’ 2 â†’ 1 (å¯åŠ¨ Hexo æœåŠ¡)
```

**å¸¸ç”¨å‘½ä»¤ï¼š**
```bash
# æŸ¥çœ‹æœåŠ¡åˆ—è¡¨
pm2 list

# æŸ¥çœ‹æ—¥å¿—
pm2 logs hexo-blog

# åœæ­¢æœåŠ¡
pm2 stop hexo-blog

# é‡å¯æœåŠ¡
pm2 restart hexo-blog

# ç›‘æ§é¢æ¿
pm2 monit

# è®¾ç½®å¼€æœºè‡ªå¯
pm2 startup
pm2 save
```

---

#### ğŸ”¹ æ–¹æ¡ˆä¸‰ï¼šnohup ç®€å•åå°ï¼ˆä¸´æ—¶æ–¹æ¡ˆï¼‰

**ä¼˜ç‚¹ï¼š**
- âœ… æ— éœ€å®‰è£…é¢å¤–è½¯ä»¶
- âœ… ç®€å•å¿«æ·

**ç¼ºç‚¹ï¼š**
- âŒ ä¸æ”¯æŒå¼€æœºè‡ªå¯
- âŒ ä¸æ”¯æŒè‡ªåŠ¨é‡å¯

**æ“ä½œæµç¨‹ï¼š**
```bash
ä¸»èœå• â†’ 5 â†’ 3
```

**ç®¡ç†å‘½ä»¤ï¼š**
```bash
# æŸ¥çœ‹è¿›ç¨‹
pgrep -f "hexo server"

# åœæ­¢æœåŠ¡
pkill -f "hexo server"

# æŸ¥çœ‹æ—¥å¿—
tail -f /var/www/hexo-blog/logs/hexo.log
```

---

**æ–¹æ¡ˆå¯¹æ¯”ï¼š**

| ç‰¹æ€§ | systemd | PM2 | nohup |
|------|---------|-----|-------|
| å¼€æœºè‡ªå¯ | âœ… | âœ… | âŒ |
| è‡ªåŠ¨é‡å¯ | âœ… | âœ… | âŒ |
| æ—¥å¿—ç®¡ç† | âœ… | âœ… | åŸºç¡€ |
| ç›‘æ§é¢æ¿ | âŒ | âœ… | âŒ |
| å®‰è£…å¤æ‚åº¦ | æ— éœ€å®‰è£… | éœ€è¦ npm | æ— éœ€å®‰è£… |
| æ¨èåœºæ™¯ | ç”Ÿäº§ç¯å¢ƒ | Node.js åº”ç”¨ | ä¸´æ—¶æµ‹è¯• |

---

### 7ï¸âƒ£ å¯åŠ¨ Hexo æœåŠ¡å™¨ï¼ˆå‰å°æµ‹è¯•ï¼‰

**è®¿é—®åœ°å€ï¼š** http://localhost:4000  
**é»˜è®¤ç«¯å£ï¼š** 4000  
**åœæ­¢æœåŠ¡ï¼š** Ctrl + C

**âš ï¸ æ³¨æ„ï¼šæ­¤æ–¹å¼ä»…ç”¨äºæœ¬åœ°æµ‹è¯•ï¼Œå…³é—­ç»ˆç«¯åæœåŠ¡å°±ä¼šåœæ­¢ï¼**

é€‚ç”¨åœºæ™¯ï¼š
- âœ… æœ¬åœ°å¼€å‘è°ƒè¯•
- âœ… å®æ—¶é¢„è§ˆæ–‡ç« 
- âœ… ä¸»é¢˜æµ‹è¯•

**ç”Ÿäº§ç¯å¢ƒè¯·ä½¿ç”¨é€‰é¡¹5çš„åå°æœåŠ¡ç®¡ç†ï¼**

---

### 8ï¸âƒ£ ç”Ÿæˆé™æ€æ–‡ä»¶

**æ“ä½œæµç¨‹ï¼š**
1. æ¸…ç†ç¼“å­˜ (`hexo clean`)
2. ç”Ÿæˆé™æ€æ–‡ä»¶ (`hexo generate`)
3. è¾“å‡ºåˆ° `public/` ç›®å½•

**ä½•æ—¶ä½¿ç”¨ï¼š**
- å‘å¸ƒå‰ç”Ÿæˆæœ€æ–°å†…å®¹
- å‡†å¤‡éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
- ä¿®æ”¹é…ç½®æˆ–ä¸»é¢˜å

---

### 9ï¸âƒ£ æŸ¥çœ‹åšå®¢çŠ¶æ€

**æ˜¾ç¤ºä¿¡æ¯ï¼š**
- ğŸ“ åšå®¢ç›®å½•å’Œå¤§å°
- âš™ï¸ Node.jsã€npmã€Git ç‰ˆæœ¬
- ğŸ“¦ Hexo ç‰ˆæœ¬ä¿¡æ¯
- ğŸ“ æ–‡ç« æ•°é‡ç»Ÿè®¡
- ğŸ¨ å·²å®‰è£…ä¸»é¢˜
- ğŸ”„ Git ä»“åº“çŠ¶æ€
- ğŸ’¾ å¤‡ä»½è®°å½•

---

## ğŸ¦‹ Butterfly ä¸»é¢˜é…ç½®

> ğŸ’• ç²‰è‰²æ¸©é¦¨ç‰ˆ - ä¸“ä¸ºå¥³å„¿æˆé•¿è®°å½•ç½‘ç«™è®¾è®¡

### ä»€ä¹ˆæ˜¯ Butterfly ä¸»é¢˜ï¼Ÿ

Butterfly æ˜¯ Hexo ä¸­æœ€å—æ¬¢è¿çš„ä¸»é¢˜ä¹‹ä¸€ï¼ŒåŠŸèƒ½å¼ºå¤§ã€ç•Œé¢ç¾è§‚ã€é«˜åº¦å¯å®šåˆ¶ã€‚

**ä¸»è¦ç‰¹æ€§ï¼š**
- âœ… å“åº”å¼è®¾è®¡ï¼Œå®Œç¾æ”¯æŒç§»åŠ¨ç«¯
- âœ… å†…ç½®æ·±è‰²/æµ…è‰²æ¨¡å¼åˆ‡æ¢
- âœ… ä¸°å¯Œçš„æ’ä»¶æ”¯æŒ
- âœ… å¤šç§å¸ƒå±€æ ·å¼
- âœ… å¼ºå¤§çš„ä¸»é¢˜é…ç½®é€‰é¡¹

---

### ä¸€é”®å®‰è£…è„šæœ¬

é¡¹ç›®æä¾›äº† `butterfly_setup.sh` ä¸€é”®é…ç½®è„šæœ¬ï¼Œè‡ªåŠ¨å®Œæˆæ‰€æœ‰é…ç½®ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
# 1. ç¡®ä¿å·²éƒ¨ç½² Hexo åšå®¢
cd /var/www/hexo-blog

# 2. ä¸Šä¼  butterfly_setup.sh åˆ°æœåŠ¡å™¨
# 3. è¿è¡Œè„šæœ¬
chmod +x butterfly_setup.sh
./butterfly_setup.sh
```

**è„šæœ¬åŠŸèƒ½ï¼š**

#### ğŸ”¹ æ­¥éª¤ 1-2ï¼šå¤‡ä»½å’Œå®‰è£…
- âœ… è‡ªåŠ¨å¤‡ä»½ç°æœ‰é…ç½®
- âœ… ä» GitHub å…‹éš† Butterfly ä¸»é¢˜
- âœ… æ£€æµ‹æ˜¯å¦å·²å®‰è£…ï¼Œé¿å…é‡å¤

#### ğŸ”¹ æ­¥éª¤ 3-4ï¼šå®‰è£…æ’ä»¶
```bash
# æ ¸å¿ƒæ’ä»¶
- hexo-renderer-pug          # Pug æ¸²æŸ“å™¨
- hexo-renderer-stylus       # Stylus æ ·å¼è¡¨
- hexo-generator-search      # æœ¬åœ°æœç´¢
- hexo-generator-feed        # RSS è®¢é˜…
- hexo-wordcount              # å­—æ•°ç»Ÿè®¡
- hexo-generator-sitemap     # ç½‘ç«™åœ°å›¾
- hexo-abbrlink              # æ–‡ç« é“¾æ¥ä¼˜åŒ–

# åª’ä½“æ’ä»¶
- hexo-tag-aplayer           # éŸ³ä¹æ’­æ”¾å™¨
- hexo-tag-dplayer           # è§†é¢‘æ’­æ”¾å™¨
- hexo-asset-image           # å›¾ç‰‡èµ„æºç®¡ç†
- hexo-lazyload-image        # å›¾ç‰‡æ‡’åŠ è½½
```

#### ğŸ”¹ æ­¥éª¤ 5ï¼šåˆ›å»ºé¡µé¢
è‡ªåŠ¨åˆ›å»ºä»¥ä¸‹é¡µé¢ï¼š

**1ï¸âƒ£ å…³äºé¡µé¢** (`/about/`)
```markdown
---
title: å…³äºå®è´
type: "about"
---

## ğŸ’• å…³äºé¢œé¢œ

### åŸºæœ¬ä¿¡æ¯
- ğŸ‘¶ å§“åï¼šé¢œé¢œ
- ğŸ‚ ç”Ÿæ—¥ï¼šXXXXå¹´XXæœˆXXæ—¥
- ğŸ’ çˆ±å¥½ï¼šç¬‘ã€ç©ã€æ¢ç´¢æ–°äº‹ç‰©
```

**2ï¸âƒ£ æ—¶å…‰è½´é¡µé¢** (`/timeline-simple/`)
- ä½¿ç”¨ Butterfly å†…ç½®æ—¶å…‰è½´æ ‡ç­¾
- ç²‰è‰²ä¸»é¢˜é…è‰²
- æ”¯æŒå›¾ç‰‡å’Œæ–‡å­—è¯´æ˜

```markdown
{% timeline 2024å¹´,pink %}

<!-- node 2024å¹´1æœˆ - ç¬¬ä¸€æ¬¡ç¬‘äº† -->
![ç¬¬ä¸€æ¬¡ç¬‘](/img/2024-01.jpg)
é¢œé¢œå®è´ä»Šå¤©ç¬¬ä¸€æ¬¡å¯¹ç€çˆ¸çˆ¸å¦ˆå¦ˆç¬‘äº†ï¼Œé‚£ç¿çƒ‚çš„ç¬‘å®¹æ¸©æš–äº†æ•´ä¸ªå®¶ï¼ğŸ’•

{% endtimeline %}
```

**3ï¸âƒ£ ç›¸å†Œé¡µé¢** (`/gallery/`)
- ç”¨äºå±•ç¤ºç…§ç‰‡é›†åˆ

**4ï¸âƒ£ åˆ†ç±»/æ ‡ç­¾é¡µé¢** (`/categories/`, `/tags/`)
- æ–‡ç« ç»„ç»‡ç®¡ç†

#### ğŸ”¹ æ­¥éª¤ 6-7ï¼šé…ç½®ä¸»é¢˜

**ç”Ÿæˆç²‰è‰²é…ç½®æ–‡ä»¶** `_config.butterfly.yml`

```yaml
# ä¸»é¢˜è‰²é…ç½®ï¼ˆç²‰è‰²æ¸©é¦¨ç‰ˆï¼‰
theme_color:
  enable: true
  main: "#FFB5C5"           # ä¸»è‰²è°ƒ
  paginator: "#FFC0CB"      # åˆ†é¡µé¢œè‰²
  button_hover: "#FFD1DC"   # æŒ‰é’®æ‚¬åœ
  link_color: "#FF69B4"     # é“¾æ¥é¢œè‰²

# å…¨å±€èƒŒæ™¯
background: 'linear-gradient(to bottom right, #FFF0F5, #FFE4E1, #FFF5EE)'

# é¦–é¡µå‰¯æ ‡é¢˜
subtitle:
  enable: true
  sub:
    - è®°å½•å®è´æˆé•¿çš„æ¯ä¸€å¤© â¤ï¸
    - æ„¿ä½ ç¬‘å®¹å¸¸åœ¨ï¼Œå¿«ä¹æˆé•¿ ğŸŒŸ
    - æ—¶å…‰è¥è‹’ï¼Œçæƒœå½“ä¸‹ ğŸŒˆ
```

**å¯¼èˆªèœå•é…ç½®ï¼š**
```yaml
menu:
  é¦–é¡µ: / || fas fa-home
  æ—¶å…‰è½´: /timeline-simple/ || fas fa-clock
  å½’æ¡£: /archives/ || fas fa-archive
  åˆ†ç±»: /categories/ || fas fa-folder-open
  æ ‡ç­¾: /tags/ || fas fa-tags
  ç›¸å†Œ: /gallery/ || fas fa-images
  å…³äº: /about/ || fas fa-heart
```

#### ğŸ”¹ æ­¥éª¤ 8-10ï¼šå®Œæˆéƒ¨ç½²
- âœ… åˆ›å»ºç¤ºä¾‹æ–‡ç« 
- âœ… åˆ›å»ºå›¾ç‰‡èµ„æºç›®å½• `source/img/`
- âœ… æ¸…ç†å¹¶ç”Ÿæˆé™æ€æ–‡ä»¶

---

### å®‰è£…åçš„ä¸‹ä¸€æ­¥

**1ï¸âƒ£ ä¸Šä¼ ç…§ç‰‡**
```bash
# ä¸Šä¼ åˆ° source/img/ ç›®å½•
cd /var/www/hexo-blog/source/img/

# éœ€è¦çš„å›¾ç‰‡
- avatar.jpg        # å¤´åƒ
- favicon.png       # ç½‘ç«™å›¾æ ‡
- sy.jpg            # é¦–é¡µå¤´å›¾
- cover1-5.jpg      # æ–‡ç« å°é¢
- 2024-01.jpg       # æ—¶å…‰è½´ç…§ç‰‡
```

**2ï¸âƒ£ ä¸ªæ€§åŒ–é…ç½®**
```bash
# ç¼–è¾‘ä¸»é…ç½®
nano _config.yml

# ä¿®æ”¹
- title: é¢œé¢œå®è´çš„æˆé•¿å°ç«™
- author: é¢œé¢œçš„çˆ¸çˆ¸å¦ˆå¦ˆ
- url: https://your-domain.com
```

**3ï¸âƒ£ ç¼–è¾‘æ—¶å…‰è½´**
```bash
nano source/timeline-simple/index.md

# æ·»åŠ å®è´çš„æˆé•¿è®°å½•
```

**4ï¸âƒ£ é‡æ–°ç”Ÿæˆ**
```bash
npx hexo clean && npx hexo generate
```

---

### ä¸»é¢˜ç‰¹è‰²åŠŸèƒ½

**ğŸ¨ ç²‰è‰²é…è‰²æ–¹æ¡ˆ**
- ä¸»è‰²è°ƒï¼š`#FFB5C5` (ç²‰çº¢)
- æ¸å˜èƒŒæ™¯ï¼š`#FFF0F5` â†’ `#FFE4E1` â†’ `#FFF5EE`
- é“¾æ¥é¢œè‰²ï¼š`#FF69B4` (çƒ­ç²‰)
- æŒ‰é’®æ‚¬åœï¼š`#FFD1DC` (æµ…ç²‰)

**ğŸ“± å“åº”å¼å¸ƒå±€**
- PCã€å¹³æ¿ã€æ‰‹æœºå®Œç¾é€‚é…
- ç§»åŠ¨ç«¯ä¾§è¾¹æ è‡ªåŠ¨æ”¶èµ·

**ğŸŒ™ æš—è‰²æ¨¡å¼**
- å†…ç½®æ·±è‰²/æµ…è‰²æ¨¡å¼åˆ‡æ¢
- ä¸€é”®åˆ‡æ¢æŒ‰é’®

**ğŸ” æœ¬åœ°æœç´¢**
- å¿«é€Ÿæœç´¢æ–‡ç« å†…å®¹
- æ— éœ€ç¬¬ä¸‰æ–¹æœåŠ¡

**ğŸ“Š å­—æ•°ç»Ÿè®¡**
- æ–‡ç« å­—æ•°
- é˜…è¯»æ—¶é—´
- ç«™ç‚¹æ€»å­—æ•°

**ğŸ”– æ—¶å…‰è½´åŠŸèƒ½**
- å‚ç›´æ—¶é—´çº¿å¸ƒå±€
- æ”¯æŒå›¾ç‰‡å’Œæ–‡å­—
- ç²‰è‰²ä¸»é¢˜é£æ ¼

---

### å¸¸è§é—®é¢˜

**Q1: ä¸»é¢˜å®‰è£…åä¸ç”Ÿæ•ˆï¼Ÿ**
```bash
# 1. æ£€æŸ¥ä¸»é¢˜åç§°
cat _config.yml | grep theme
# åº”è¯¥æ˜¾ç¤º: theme: butterfly

# 2. æ¸…ç†ç¼“å­˜é‡æ–°ç”Ÿæˆ
npx hexo clean && npx hexo generate
```

**Q2: æ—¶å…‰è½´é¡µé¢æ˜¾ç¤ºå¼‚å¸¸ï¼Ÿ**
- æ£€æŸ¥ Front-matter ä¸­ `type: timeline`
- ç¡®è®¤ä½¿ç”¨äº† `{% timeline %}` æ ‡ç­¾
- æ£€æŸ¥å›¾ç‰‡è·¯å¾„æ˜¯å¦æ­£ç¡®

**Q3: å¦‚ä½•ä¿®æ”¹é¢œè‰²é…ç½®ï¼Ÿ**
```bash
# ç¼–è¾‘ä¸»é¢˜é…ç½®
nano _config.butterfly.yml

# ä¿®æ”¹ theme_color éƒ¨åˆ†
theme_color:
  main: "#YOUR_COLOR"  # æ›´æ”¹ä¸ºä½ å–œæ¬¢çš„é¢œè‰²
```

**Q4: å¦‚ä½•æ·»åŠ æ›´å¤šæ—¶å…‰è½´è®°å½•ï¼Ÿ**
```bash
nano source/timeline-simple/index.md

# æŒ‰æ ¼å¼æ·»åŠ 
<!-- node 2024å¹´4æœˆ - æ–°è®°å½• -->
![å›¾ç‰‡æè¿°](/img/2024-04.jpg)
æ–‡å­—æè¿°å†…å®¹...
```

---

### ä¸»é¢˜æ–‡æ¡£èµ„æº

- **å®˜æ–¹æ–‡æ¡£ï¼š** https://butterfly.js.org/
- **GitHubï¼š** https://github.com/jerryc127/hexo-theme-butterfly
- **ç¤ºä¾‹ç«™ç‚¹ï¼š** https://butterfly.js.org/
- **é…ç½®è¯´æ˜ï¼š** https://butterfly.js.org/posts/21cfbf15/

---

## âš™ï¸ Caddy é…ç½®

### å®‰è£… Caddy

```bash
# æ·»åŠ  Caddy å®˜æ–¹æº
sudo apt install -y debian-keyring debian-archive-keyring apt-transport-https
curl -1sLf 'https://dl.cloudsmith.io/public/caddy/stable/gpg.key' | sudo gpg --dearmor -o /usr/share/keyrings/caddy-stable-archive-keyring.gpg
curl -1sLf 'https://dl.cloudsmith.io/public/caddy/stable/debian.deb.txt' | sudo tee /etc/apt/sources.list.d/caddy-stable.list

# å®‰è£…
sudo apt update
sudo apt install caddy
```

### æ–¹æ¡ˆä¸€ï¼šåä»£ Hexo Serverï¼ˆå¼€å‘æµ‹è¯•ï¼‰

```bash
# ç¼–è¾‘ Caddyfile
sudo nano /etc/caddy/Caddyfile
```

```caddy
blog.example.com {
    reverse_proxy 127.0.0.1:4000
    encode gzip zstd
}
```

**ä½¿ç”¨åœºæ™¯ï¼š** å¼€å‘é˜¶æ®µï¼Œéœ€è¦å®æ—¶é¢„è§ˆ

---

### æ–¹æ¡ˆäºŒï¼šæ‰˜ç®¡é™æ€æ–‡ä»¶ï¼ˆç”Ÿäº§æ¨èï¼‰â­

```caddy
blog.example.com {
    root * /var/www/hexo-blog/public
    file_server
    encode gzip zstd
    
    # 404 å¤„ç†
    handle_errors {
        @404 {
            expression {http.error.status_code} == 404
        }
        rewrite @404 /404.html
        file_server
    }
    
    # é™æ€èµ„æºç¼“å­˜
    @static {
        path *.css *.js *.jpg *.jpeg *.png *.gif *.ico *.svg *.woff *.woff2
    }
    header @static Cache-Control "public, max-age=31536000, immutable"
}
```

**ä½¿ç”¨åœºæ™¯ï¼š** ç”Ÿäº§ç¯å¢ƒï¼Œæ€§èƒ½æœ€ä½³

---

### åº”ç”¨é…ç½®

```bash
# æµ‹è¯•é…ç½®
sudo caddy validate --config /etc/caddy/Caddyfile

# é‡å¯ Caddy
sudo systemctl restart caddy

# æŸ¥çœ‹çŠ¶æ€
sudo systemctl status caddy

# æŸ¥çœ‹æ—¥å¿—
sudo journalctl -u caddy -f
```

### ğŸ”’ SSL è¯ä¹¦

Caddy ä¼šè‡ªåŠ¨ï¼š
- âœ… ç”³è¯· Let's Encrypt å…è´¹è¯ä¹¦
- âœ… è‡ªåŠ¨ç»­æœŸè¯ä¹¦
- âœ… å¼ºåˆ¶ HTTPS é‡å®šå‘

**å‰ææ¡ä»¶ï¼š**
- åŸŸåå·²æ­£ç¡®è§£æåˆ°æœåŠ¡å™¨ IP
- é˜²ç«å¢™å¼€æ”¾ 80 å’Œ 443 ç«¯å£

```bash
# å¼€æ”¾ç«¯å£ï¼ˆå¦‚æœéœ€è¦ï¼‰
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
```

---

## ğŸ’¡ å¸¸è§é—®é¢˜

### Q1: è„šæœ¬è¿è¡Œæç¤ºæƒé™ä¸è¶³ï¼Ÿ

```bash
# æ·»åŠ æ‰§è¡Œæƒé™
chmod +x hexo_manager.sh

# æˆ–ä½¿ç”¨ bash è¿è¡Œ
bash hexo_manager.sh
```

### Q2: Node.js ç‰ˆæœ¬ä¸ç¬¦åˆè¦æ±‚ï¼Ÿ

è„šæœ¬ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶å‡çº§åˆ° Node.js 20ï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œã€‚

### Q3: ç«¯å£ 4000 è¢«å ç”¨ï¼Ÿ

```bash
# æŸ¥æ‰¾å ç”¨è¿›ç¨‹
sudo lsof -i :4000

# æˆ–ä¿®æ”¹ Hexo ç«¯å£
npx hexo server -p 5000
```

### Q4: å¤‡ä»½æ–‡ä»¶åœ¨å“ªé‡Œï¼Ÿ

```bash
# å¤‡ä»½ç›®å½•
cd /var/backups/hexo-blog

# æŸ¥çœ‹æ‰€æœ‰å¤‡ä»½
ls -lh hexo_backup_*.tar.gz
```

### Q5: å¦‚ä½•æ›´æ¢ä¸»é¢˜ï¼Ÿ

```bash
# å…‹éš†ä¸»é¢˜åˆ° themes ç›®å½•
cd /var/www/hexo-blog
git clone https://github.com/theme-author/theme-name themes/theme-name

# ä¿®æ”¹é…ç½®
nano _config.yml
# æ‰¾åˆ° theme: landscape
# æ”¹ä¸º theme: theme-name

# é‡æ–°ç”Ÿæˆ
npx hexo clean && npx hexo generate
```

### Q6: Caddy æ— æ³•ç”³è¯·è¯ä¹¦ï¼Ÿ

**æ£€æŸ¥é¡¹ï¼š**
1. åŸŸåæ˜¯å¦æ­£ç¡®è§£æï¼Ÿ`dig blog.example.com`
2. 80/443 ç«¯å£æ˜¯å¦å¼€æ”¾ï¼Ÿ`sudo ss -tulpn | grep -E ':(80|443)'`
3. æ˜¯å¦æœ‰å…¶ä»–æœåŠ¡å ç”¨ï¼Ÿ`sudo systemctl stop nginx apache2`

---

## ğŸ¯ æœ€ä½³å®è·µ

### ğŸ“ æ—¥å¸¸å†™ä½œæµç¨‹

```bash
# 1. æ–°å»ºæ–‡ç« 
cd /var/www/hexo-blog
npx hexo new "æ–‡ç« æ ‡é¢˜"

# 2. ç¼–è¾‘æ–‡ç« 
nano source/_posts/æ–‡ç« æ ‡é¢˜.md

# 3. æœ¬åœ°é¢„è§ˆ
npx hexo server

# 4. ç”Ÿæˆé™æ€æ–‡ä»¶
npx hexo generate

# 5. Git æäº¤ï¼ˆä½¿ç”¨è„šæœ¬ï¼‰
./hexo_manager.sh
# é€‰æ‹© 4 â†’ 1ï¼ˆæ¨é€ï¼‰
```

### ğŸ”„ å®šæœŸç»´æŠ¤

```bash
# æ¯å‘¨å¤‡ä»½
./hexo_manager.sh â†’ é€‰æ‹© 3

# æ›´æ–°ä¾èµ–
cd /var/www/hexo-blog
npm update

# æ¸…ç†ç¼“å­˜
npx hexo clean
```

### ğŸš€ éƒ¨ç½²å‰æ£€æŸ¥æ¸…å•

- [ ] å·²ç”Ÿæˆæœ€æ–°é™æ€æ–‡ä»¶
- [ ] å·²æµ‹è¯•æœ¬åœ°é¢„è§ˆæ­£å¸¸
- [ ] å·²æäº¤åˆ° Git ä»“åº“
- [ ] å·²åˆ›å»ºå¤‡ä»½
- [ ] Caddy é…ç½®æ­£ç¡®
- [ ] SSL è¯ä¹¦æœ‰æ•ˆ

---

## ğŸ”§ æ•…éšœæ’æŸ¥

### é—®é¢˜ï¼šHexo å‘½ä»¤æ‰¾ä¸åˆ°

```bash
# æ£€æŸ¥å®‰è£…
npm list hexo

# é‡æ–°å®‰è£…
cd /var/www/hexo-blog
npm install hexo --save
```

### é—®é¢˜ï¼šä¸»é¢˜ä¸ç”Ÿæ•ˆ

```bash
# æ£€æŸ¥ä¸»é¢˜ç›®å½•
ls -la themes/

# æ£€æŸ¥é…ç½®æ–‡ä»¶
cat _config.yml | grep theme

# æ¸…ç†é‡æ–°ç”Ÿæˆ
npx hexo clean && npx hexo generate
```

### é—®é¢˜ï¼šæ–‡ç« ä¸æ˜¾ç¤º

```bash
# æ£€æŸ¥æ–‡ç«  Front-matter
cat source/_posts/æ–‡ç« å.md

# ç¡®ä¿åŒ…å«ï¼š
---
title: æ ‡é¢˜
date: 2023-11-01
---
```

### é—®é¢˜ï¼šGit æ¨é€å¤±è´¥

```bash
# æ£€æŸ¥è¿œç¨‹ä»“åº“
git remote -v

# é‡æ–°è®¾ç½®
git remote set-url origin https://github.com/username/repo.git

# å¼ºåˆ¶æ¨é€ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
git push -f origin main
```

---

## ğŸ“‚ ç›®å½•ç»“æ„

```
/var/www/hexo-blog/
â”œâ”€â”€ _config.yml          # å…¨å±€é…ç½®
â”œâ”€â”€ package.json         # ä¾èµ–é…ç½®
â”œâ”€â”€ scaffolds/           # æ–‡ç« æ¨¡æ¿
â”œâ”€â”€ source/              # æºæ–‡ä»¶
â”‚   â”œâ”€â”€ _posts/         # åšå®¢æ–‡ç« 
â”‚   â””â”€â”€ _drafts/        # è‰ç¨¿
â”œâ”€â”€ themes/              # ä¸»é¢˜
â”‚   â””â”€â”€ landscape/      # é»˜è®¤ä¸»é¢˜
â”œâ”€â”€ public/              # ç”Ÿæˆçš„é™æ€æ–‡ä»¶ï¼ˆéƒ¨ç½²ç”¨ï¼‰
â””â”€â”€ node_modules/        # ä¾èµ–åŒ…

/var/backups/hexo-blog/
â””â”€â”€ hexo_backup_*.tar.gz # å¤‡ä»½æ–‡ä»¶
```

---

## ğŸ› ï¸ é…ç½®æ–‡ä»¶è¯´æ˜

### _config.yml ä¸»è¦é…ç½®

```yaml
# ç½‘ç«™ä¿¡æ¯
title: æˆ‘çš„åšå®¢
subtitle: ''
description: ''
author: Your Name
language: zh-CN
timezone: 'Asia/Shanghai'

# URL
url: https://blog.example.com
root: /
permalink: :year/:month/:day/:title/

# ä¸»é¢˜
theme: landscape

# éƒ¨ç½²
deploy:
  type: git
  repo: https://github.com/username/username.github.io.git
  branch: main
```

---

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### é™æ€èµ„æºä¼˜åŒ–

```bash
# å®‰è£…å‹ç¼©æ’ä»¶
npm install hexo-filter-cleanup hexo-filter-optimize --save

# åœ¨ _config.yml æ·»åŠ 
filter_optimize:
  enable: true
  css: true
  js: true
  html: true
```

### CDN åŠ é€Ÿ

```yaml
# _config.yml
url: https://cdn.example.com
```

### å›¾ç‰‡ä¼˜åŒ–

```bash
# å®‰è£…å›¾ç‰‡ä¼˜åŒ–æ’ä»¶
npm install hexo-filter-image --save
```

---

## ğŸ“œ æ›´æ–°æ—¥å¿—

### v1.0.0 (2023-11-01)
- âœ¨ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- âœ… æ”¯æŒä¸€é”®éƒ¨ç½²
- âœ… æ”¯æŒå®‰å…¨å¸è½½
- âœ… æ”¯æŒæ™ºèƒ½å¤‡ä»½
- âœ… æ”¯æŒ Git åŒæ­¥
- âœ… å®Œæ•´çš„ Caddy é…ç½®æ¨¡æ¿

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### å¼€å‘æŒ‡å—

```bash
# Fork é¡¹ç›®
# å…‹éš†ä½ çš„ Fork
git clone https://github.com/YOUR_USERNAME/YOUR_REPO.git

# åˆ›å»ºåˆ†æ”¯
git checkout -b feature/your-feature

# æäº¤æ›´æ”¹
git commit -am 'Add some feature'

# æ¨é€
git push origin feature/your-feature

# åˆ›å»º Pull Request
```

---

## ğŸ“„ License

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

## ğŸ™ è‡´è°¢

- [Hexo](https://hexo.io/) - å¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶
- [Node.js](https://nodejs.org/) - JavaScript è¿è¡Œæ—¶
- [Caddy](https://caddyserver.com/) - ç°ä»£åŒ–çš„ Web æœåŠ¡å™¨
- æ‰€æœ‰è´¡çŒ®è€…å’Œä½¿ç”¨è€…

---

## ğŸ“® è”ç³»æ–¹å¼

- **Author:** Iris & Cascade
- **GitHub:** [YOUR_USERNAME](https://github.com/YOUR_USERNAME)
- **Email:** your.email@example.com

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Starï¼â­**

Made with â¤ï¸ by Iris & Cascade

</div>
